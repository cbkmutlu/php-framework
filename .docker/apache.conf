<VirtualHost *:80>
   # Root directory
   DocumentRoot /var/www/html/Public

   # Enable .htaccess
   <Directory /var/www/html/Public>
      AllowOverride All
      Require all granted
   </Directory>

   # Security headers
   Header always set X-Frame-Options "SAMEORIGIN"
   Header always set X-Content-Type-Options "nosniff"

   # Logging
   ErrorLog  /proc/self/fd/2 warn
   CustomLog /proc/self/fd/1 combined

   # Deny access to sensitive files
   <FilesMatch "^\.">
      Require all denied
   </FilesMatch>

   # Gzip compression
   <IfModule mod_deflate.c>
      AddOutputFilterByType DEFLATE text/plain text/xml text/css text/javascript application/javascript application/json application/xml application/xhtml+xml
   </IfModule>

   # Cache
   <IfModule mod_expires.c>
      ExpiresActive On
      ExpiresDefault "access plus 1 month"

      # Disable cache for dynamic content
      ExpiresByType text/html "access plus 0 seconds"
      ExpiresByType application/json "access plus 0 seconds"
   </IfModule>
</VirtualHost>
